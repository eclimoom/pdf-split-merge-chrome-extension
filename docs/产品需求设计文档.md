### 产品需求设计文档：Chrome插件 - PDF拆分与合并工具

---

#### 一、产品概述
**产品名称**：PDF拆分与合并工具  
**目标用户**：需要处理PDF文件和生成PDF文档的普通用户与专业人士。  
**产品价值**：提供简单、快速、高效的PDF拆分与图片合并功能，减少用户繁琐操作时间。

---

#### 二、核心功能
1. **PDF文件拆分功能**：
  - 支持用户上传本地PDF文件。
  - 允许用户选择拆分模式：
    - 按页码拆分：用户可以输入需要拆分的页码范围。
    - 单页拆分：将PDF文件每一页生成单独的PDF文件。
  - 用户下载拆分后的PDF文件，支持单个或批量下载。

2. **图片合并为PDF功能**：
  - 支持用户上传多个本地图片文件（JPEG、PNG等格式）。
  - 提供图片排序功能，用户可调整图片合并顺序。
  - 合并后生成PDF文件，用户可选择导出。

3. **文件管理功能**：
  - 显示当前已上传的PDF文件和图片的列表。
  - 支持删除或重新上传操作。
  - 记录用户最近一次的文件操作历史。

4. **文件格式支持**：
  - 上传文件大小限制（如50MB）。
  - 图片格式支持：JPEG、PNG、BMP。
  - PDF文件标准支持（支持PDF/A等）。

---

#### 三、用户操作流程
1. **首页界面**：
  - 展示两个主功能入口：PDF拆分、图片合并为PDF。

2. **PDF拆分功能操作流程**：
  1. 用户点击“选择PDF文件”按钮上传PDF。
  2. 上传完成后，展示PDF页面预览或总页数。
  3. 用户选择拆分模式（按页码范围或单页拆分）。
  4. 用户点击“开始拆分”，展示进度条。
  5. 完成后提供下载链接，支持单个页面下载或压缩包形式批量下载。

3. **图片合并为PDF操作流程**：
  1. 用户点击“选择图片文件”按钮上传图片。
  2. 上传完成后，展示图片预览列表，支持拖拽调整顺序。
  3. 用户点击“生成PDF”，展示进度条。
  4. 合并完成后提供下载链接。

4. **文件管理功能**：
  - 首页提供已上传文件列表，支持文件删除和重新上传。

---

#### 四、产品原型设计

**1. 主界面布局**
- 顶部导航栏：显示产品名称、用户帮助按钮。
- 主内容区域：
  - 左侧：功能选择菜单（PDF拆分、图片合并为PDF）。
  - 右侧：功能操作界面，默认展示“欢迎页面”。

**2. PDF拆分功能页面**
- 文件上传区域：
  - 拖拽上传区域或按钮“选择PDF文件”。
  - 文件上传后显示文件名及预览（总页数信息）。
- 拆分模式选择：
  - 单页拆分。
  - 按页码拆分（页码输入框，支持多个范围，如“1-3,5,7-9”）。
- 操作按钮：
  - “开始拆分”按钮。
  - 进度条展示拆分进度。
  - 下载链接。

**3. 图片合并为PDF页面**
- 文件上传区域：
  - 拖拽上传区域或按钮“选择图片文件”。
  - 文件上传后展示缩略图及顺序调整。
- 合并设置：
  - 选择页面大小（A4、A5等）。
  - 页面方向（纵向、横向）。
- 操作按钮：
  - “生成PDF”按钮。
  - 进度条展示生成进度。
  - 下载链接。

---

#### 五、技术实现建议
1. **前端技术**：
  - 使用HTML5和Angular构建用户界面。
  - 使用Chrome扩展API实现本地文件访问和操作。 
  - 基于PDF.js和ImageMagick库完成文件操作）。


2. **存储和性能**：
  - 使用浏览器本地存储（如IndexedDB）临时保存文件。
  - 优化文件加载和处理速度，限制大文件操作的内存占用。

---

#### 六、附加功能
1. **用户体验优化**：
  - 拖拽式上传区域。
  - 操作完成后的通知（如弹窗提示）。
2. **多语言支持**：
  - 支持中英文切换。
3. **快捷键操作**：
  - 提供快速清除上传文件的快捷键。

---

#### 七、迭代计划
- **V1.0**：实现核心功能（PDF拆分、图片合并）。
- **V1.1**：优化用户界面，增加多语言支持。
- **V1.2**：增加文件格式扩展（如支持Word转PDF）。

- icdss 配置单病种系统是否开启
- icdss 后台用户编辑 增加单病种用户角色
- icdss根据单病种绑定关系 显示单病种入口
